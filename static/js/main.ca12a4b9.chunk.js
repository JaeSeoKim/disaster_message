(this.webpackJsonpdisaster_message=this.webpackJsonpdisaster_message||[]).push([[0],{168:function(e,t,a){e.exports=a(294)},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(4),o=a.n(l),m=a(37),s=a(47),i=a(36),u=a.n(i),d=a(65),E=a(300),h=a(295),g=function(e){var t=function(){var t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);Math.max(document.documentElement.scrollTop,document.body.scrollTop)+Math.max(document.documentElement.clientHeight,window.innerHeight)>=t-2&&"function"===typeof e&&e()};Object(r.useEffect)((function(){return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[])},p=a(30),f=a(86),v=a.n(f),y=a(58),b=a(85),w=Object(b.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchQuery:"",isLoding:!0,error:null,data:[],pageNo:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addData":return Object(y.a)({},e,{data:e.data.concat(t.data),pageNo:e.pageNo+1});case"setSearchQuery":return Object(y.a)({},e,{searchQuery:t.searchQuery});case"updateLoding":return Object(y.a)({},e,{isLoding:!e.isLoding});case"setError":return Object(y.a)({},e,{error:t.error});default:return e}})),x=function(e){return{type:"addData",data:e}},_=function(e){return{type:"setSearchQuery",searchQuery:e}},k=w,j=function(){var e=Object(p.c)();return{get:function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("api : ",a),t.next=3,v.a.get("http://apis.data.go.kr/1741000/DisasterMsg2/getDisasterMsgList",{params:{ServiceKey:"ceZwSatjH2udx0SkvdNFvxm7sqlCyqjq8H+T0QE/QpF0rUlhwj1mmfXw8uNKw9sR7Lvg1iHwBX3Sw4zLCnLo9A==",type:"json",pageNo:a,numOfRows:50,flag:"Y"}}).then((function(t){e(x(t.data.DisasterMsg[1].row))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},O=!1,L=Object(p.b)((function(e){return{data:e.data,pageNo:e.pageNo,searchQuery:e.searchQuery}}))((function(e){var t=e.data,a=e.pageNo,l=e.searchQuery;n=a,console.log("Query : ",l);var o=j(a,[]).get;if(g(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=6;break}return O=!0,e.next=4,o(n);case 4:O=!1,E.a.success({content:"Loaded!",key:n,duration:2});case 6:case"end":return e.stop()}}),e)})))),Object(r.useEffect)((function(){o(a)}),[]),""!==l){var s=t.filter((function(e){return e.location_name.includes(l)}));Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),Math.max(document.documentElement.clientHeight,window.innerHeight);return c.a.createElement("div",null,s.map((function(e,t){return c.a.createElement("div",{style:{margin:"auto",maxWidth:550},key:t},c.a.createElement(m.b,{to:{pathname:"/detail/".concat(e.md101_sn),state:{location:e.location_name,date:e.create_date,msg:e.msg,id:e.md101_sn}}},c.a.createElement(h.a,{hoverable:!0,style:{maxWidth:500,margin:"auto",marginBottom:13},title:e.location_name+"\t"+e.create_date},e.msg)))})),c.a.createElement(h.a,{loading:!0,style:{maxWidth:500,margin:"auto",marginBottom:13}}))}return c.a.createElement("div",null,t.map((function(e,t){return c.a.createElement("div",{style:{margin:"auto",maxWidth:550},key:t},c.a.createElement(m.b,{to:{pathname:"/detail/".concat(e.md101_sn),state:{location:e.location_name,date:e.create_date,msg:e.msg,id:e.md101_sn}}},c.a.createElement(h.a,{hoverable:!0,style:{maxWidth:500,margin:"auto",marginBottom:13},title:e.location_name+"\t"+e.create_date},e.msg)))})),c.a.createElement(h.a,{loading:!0,style:{maxWidth:500,margin:"auto",marginBottom:13}}))})),B=function(){var e=Object(p.c)();return Object(r.useEffect)((function(){e(_(""))}),[]),c.a.createElement("div",{className:"home",style:{marginTop:25}},c.a.createElement(L,null))},S=a(298),N=a(302),Q=S.a.Option,H=function(){var e=Object(p.c)();return c.a.createElement("div",null,c.a.createElement(N.a,{offsetTop:50,style:{marginBottom:10}},c.a.createElement(S.a,{showSearch:!0,style:{maxWidth:500,width:"100%"},placeholder:"\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.",optionFilterProp:"children",onChange:function(t){console.log("selected ".concat(t)),e(_(t))},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},c.a.createElement(Q,{value:"\uac15\uc6d0\ub3c4"},"\uac15\uc6d0\ub3c4"),c.a.createElement(Q,{value:"\uacbd\uae30\ub3c4"},"\uacbd\uae30\ub3c4"),c.a.createElement(Q,{value:"\uacbd\uc0c1\ub0a8\ub3c4"},"\uacbd\uc0c1\ub0a8\ub3c4"),c.a.createElement(Q,{value:"\uacbd\uc0c1\ubd81\ub3c4"},"\uacbd\uc0c1\ubd81\ub3c4"),c.a.createElement(Q,{value:"\uad11\uc8fc\uad11\uc5ed\uc2dc"},"\uad11\uc8fc\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\ub300\uad6c\uad11\uc5ed\uc2dc"},"\ub300\uad6c\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\ub300\uc804\uad11\uc5ed\uc2dc"},"\ub300\uc804\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\ubd80\uc0b0\uad11\uc5ed\uc2dc"},"\ubd80\uc0b0\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc"},"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc"),c.a.createElement(Q,{value:"\uc6b8\uc0b0\uad11\uc5ed\uc2dc"},"\uc6b8\uc0b0\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\uc778\ucc9c\uad11\uc5ed\uc2dc"},"\uc778\ucc9c\uad11\uc5ed\uc2dc"),c.a.createElement(Q,{value:"\uc804\ub77c\ub0a8\ub3c4"},"\uc804\ub77c\ub0a8\ub3c4"),c.a.createElement(Q,{value:"\uc804\ub77c\ubd81\ub3c4"},"\uc804\ub77c\ubd81\ub3c4"),c.a.createElement(Q,{value:"\uc81c\uc8fc\ud2b9\ubcc4\uc790\uce58\ub3c4"},"\uc81c\uc8fc\ud2b9\ubcc4\uc790\uce58\ub3c4"),c.a.createElement(Q,{value:"\ucda9\uccad\ub0a8\ub3c4"},"\ucda9\uccad\ub0a8\ub3c4"),c.a.createElement(Q,{value:"\ucda9\uccad\ubd81\ub3c4"},"\ucda9\uccad\ubd81\ub3c4"),c.a.createElement(Q,{value:"\uc138\uc885\ud2b9\ubcc4\uc790\uce58\uc2dc"},"\uc138\uc885\ud2b9\ubcc4\uc790\uce58\uc2dc"))),c.a.createElement(L,{Location:""}))},M=function(){return c.a.createElement("h1",null,"404 Error")},W=a(165),D=function(){var e=Object(r.useState)({address:"",count:0,stores:{addr:"",code:"",created_at:"",lat:0,lng:0,name:"",remain_stat:"",stock_at:"",type:""}}),t=Object(W.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,v.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json?address=".concat(t)).then((function(e){var t=e.data,a=t.address,r=t.count,c=t.stores;console.log(e),n({address:a,count:r,stores:c})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.a)({},a,{getMaskData:c})},K=a(297),A=a(301),C=K.a.Panel,I=function(e){var t=e.stores,a=e.address;return c.a.createElement("div",{className:"more_Info"},c.a.createElement(K.a,{style:{maxWidth:500,margin:"auto",marginBottom:13}},c.a.createElement(C,{header:a+"\uc758 \ud604\uc7ac \uad6c\ub9e4 \uac00\ub2a5\ud55c \ub9c8\uc2a4\ud06c \ud310\ub9e4\ucc98",key:"maskMap"},c.a.createElement("h3",{style:{textAlign:"le"}},c.a.createElement("p",null,"\ud604\uc7ac \uad6c\ub9e4 \uac00\ub2a5\ud55c \uad6c\ub9e4\ucc98\ub9cc \ubaa9\ub85d\ud654 \ud588\uc2b5\ub2c8\ub2e4."),c.a.createElement("p",null,"\ud574\ub2f9 \uce74\ub4dc\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \ud310\ub9e4\ucc98 \uc8fc\uc18c\ub97c \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),t.map((function(e,t){return"undefined"!==typeof e.remain_stat&&""!==e.remain_stat&&null!==e.remain_stat&&"break"!==e.remain_stat&&"empty"!==e.remain_stat&&c.a.createElement("a",{href:"https://map.kakao.com/link/map/"+e.name+","+e.lat+","+e.lng,target:"_blank",key:e.code},c.a.createElement(h.a,{style:{maxWidth:500,margin:"auto",marginBottom:13},title:e.name},c.a.createElement("div",{style:{textAlign:"left"}},c.a.createElement("p",null,"\uc8fc\uc18c : ",e.addr),c.a.createElement("p",null,"\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8 : ",e.created_at),c.a.createElement("p",null,"\uc785\uace0 \uc2dc\uac04 : ",e.stock_at),c.a.createElement("p",null,"plenty"===e.remain_stat&&c.a.createElement(A.a,{color:"#87d068"},"100\uac1c \uc774\uc0c1"),"some"===e.remain_stat&&c.a.createElement(A.a,{color:"#2db7f5"},"30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc"),"few"===e.remain_stat&&c.a.createElement(A.a,{color:"#f50"},"30\uac1c \ubbf8\ub9cc")))))})))))},T=function(e){var t=D(),a=t.address,n=t.count,l=t.stores,o=t.getMaskData;Object(r.useEffect)((function(){void 0===e.location.state?e.history.push("/"):o(e.location.state.location)}),[]);var m=e.location.state;return c.a.createElement("div",null,void 0===m?c.a.createElement(M,null):c.a.createElement("div",null,c.a.createElement("h1",null,"\uac1c\ubc1c\uc911.........."),c.a.createElement(h.a,{style:{maxWidth:500,margin:"auto",marginBottom:13},title:m.location+"\t"+m.date},m.msg),0===n?c.a.createElement("div",{className:"maskStoreList"}):c.a.createElement(I,{stores:l,address:a})))},J=a(296),P=a(306),q=a(305),F=J.a.Title,z=J.a.Paragraph,R=function(){return c.a.createElement(J.a,null,c.a.createElement("a",{href:"https://github.com/JaeSeoKim/disaster_message/"},c.a.createElement(F,null,"Disaster_message")),c.a.createElement(z,null,"\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ud55c\uad6d \uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 `\uc7ac\ub09c\ubb38\uc790\ubc29\uc1a1 \ubc1c\ub839\ud604\ud669 \uc11c\ube44\uc2a4 API` \ub97c \uc774\uc6a9\ud558\uc5ec \uc81c\uc791 \ud558\uc600\uc2b5\ub2c8\ub2e4."),c.a.createElement(F,{level:4},"Created by JaeSeoKim"),c.a.createElement("a",{href:"https://github.com/JaeSeoKim"},c.a.createElement(F,{level:4},c.a.createElement(P.a,null)," Github")),c.a.createElement("a",{href:"https://jaeseokim.tistory.com/"},c.a.createElement(F,{level:4},c.a.createElement(q.a,null)," Blog")))},X=a(299),G=a(304),U=a(307),Y=a(303),Z=function(){return c.a.createElement(N.a,{style:{marginBottom:10}},c.a.createElement("div",null,c.a.createElement(X.a,{defaultSelectedKeys:["home"],defaultOpenKeys:["menu"],mode:"horizontal",theme:"white"},c.a.createElement(X.a.Item,{key:"home"},c.a.createElement(G.a,null),c.a.createElement(m.c,{to:"/"},c.a.createElement("span",null,"\uc7ac\ub09c\ubb38\uc790 \ubaa9\ub85d"))),c.a.createElement(X.a.Item,{key:"location"},c.a.createElement(U.a,null),c.a.createElement(m.c,{to:"/location"},c.a.createElement("span",null,"\uc9c0\uc5ed\ubcc4 \uc7ac\ub09c\ubb38\uc790"))),c.a.createElement(X.a.Item,{key:"about"},c.a.createElement(Y.a,null),c.a.createElement(m.c,{to:"/about"},c.a.createElement("span",null,"About"))))))};var V=function(){return c.a.createElement(p.a,{store:k},c.a.createElement(m.a,null,c.a.createElement(Z,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",exact:!0,component:B}),c.a.createElement(s.a,{path:"/location",exact:!0,component:H}),c.a.createElement(s.a,{path:"/about",exact:!0,component:R}),c.a.createElement(s.a,{path:"/detail/:id",exact:!0,component:T}),c.a.createElement(s.a,{component:M}))))};a(292),a(293);o.a.render(c.a.createElement(V,null),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.ca12a4b9.chunk.js.map